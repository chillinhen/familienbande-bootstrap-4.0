.intro{
    &.card{
        -webkit-border-radius: 0 0 $card-border-radius $card-border-radius;
        border-radius: 0 0 $card-border-radius $card-border-radius;
    }
    @include media-breakpoint-up(lg) { 
        margin-left: -$grid-gutter-width;
    }
    &:hover:after{
        position: absolute;
        right:0;
        top: 0;
        content: '';
        @include size(0);
        border:{
            width:1rem 1rem 1rem 1rem;
            style:solid;
            color:$gray-500 $gray-500 transparent transparent;
        };
        -webkit-box-shadow: 1px 1px 5px 0 rgba(0,0,0,.25);
        box-shadow: 1px 1px 5px 0 rgba(0,0,0,.25);
    }
}
.intro,
.simpleContentSearch{
    @include grey-box;
}

.tagcloud{
    ul{
        margin:0;
        padding:0;
    }
    ul, li{
        list-style:none;
        font-size:1.2rem;
        color:white;
    }
    li{
        display: inline-block;
        margin: 0 0 .3em 1em;
        padding: 0; 
        a{
            position: relative;
            display: inline-block;
            height: 40px;
            line-height: 40px;
            padding: 0 1em 0 .75em;
            border-radius: 0 6px 6px 0;
            text-decoration: none;
            -webkit-transition: .2s;
            transition: .2s;

            &:before, &:after{
                position: absolute;
                content: '';
            }
            &:before{
                top: 0;
                left: -20px;
                z-index: -1;
                width: 40px;
                height: 40px; 
                border-radius: 50%;
                -webkit-transition: .2s;
                transition: .2s;  
            }
            &:after{
                top: 50%;
                left: -6px;
                z-index: 2;
                display: block;
                width: 6px;
                height: 6px;
                margin-top: -3px;
                background-color: white;
                border-radius: 100%;
            }
            &:hover{
                background-color: $primary;
            }
        }

        &:nth-child(4n+1) a{
            background:$blue;
            &:before{background:$blue;}
        }
        &:nth-child(4n+2) a{
            background:$yellow;
            &:before{background:$yellow;}
        }
        &:nth-child(4n+3) a{
            background:$pink;
            &:before{background:$pink;}
        }
        &:nth-child(4n+4) a{
            background:$green;
            &:before{background:$green;}
        }
        span {
            @include ellipsis(100px);
            color:inherit;
        }
    }
}
#topicsBlock{
    @include border-left-radius(2em);
    @include border-right-radius(2em);
    overflow:hidden;
    [class*="col-"]{padding:1em;}
    [data-icon]{
        font-size: 3rem;
        margin-bottom: 1rem;
    }
    *{color:white;}

    [class*="col-"]:nth-child(4n+1){background: $blue;}
    [class*="col-"]:nth-child(4n+2){background: $yellow;}
    [class*="col-"]:nth-child(4n+3){background: $pink;}
    [class*="col-"]:nth-child(4n+4){background: $green;}
    @include media-breakpoint-down(md) {margin:0 1rem;}
    @include media-breakpoint-up(sm) {
        margin-top:2rem;
    }
}
.bubble{
    position:relative;
    @include border-top-radius(15px);
    @include border-bottom-radius(15px);
    background:$yellow;
    color:white;
    &:before{
        content:'';
        top: -48px;
        position: absolute;
        display: block;
        width: 0px;
        height: 0px;
        border-style: solid;
        border-width: 48px 0px 0 48px;
        border-color: transparent transparent transparent $yellow;
        left: 150px;
    }
    @include media-breakpoint-down(sm) {
        margin-top:200px;
        margin-bottom: 1rem;
    }
}

.parallax{
    background-repeat:no-repeat;
    background-color:transparent;
    background-size:cover;
    background-attachment: fixed;

    body[class*="cat"] &{
        background-image:url(../img/patrick-fore-358120-unsplash.jpg);
        background-position:top left;
        margin:2em 0 0 0;
    }
    &.cat-yellow &{
        background-image:url(../img/img/look.jpg);
        background-position:center center;
        margin:0 0 2em 0;
    }

    [class*="col-"]{padding:100px 0;}
    &:before,&:after{
        @include multiple-border(.3rem, 0, 100%);
    }
    * {
        color:white;
        font-weight:bold;
    }
}
/**DEBUG**/
/*#infoblock{
    #home &{
        > div{
            @include last(5){
                display:none !important;
            }
        }  
    } 
}*/

/*** SEARCH ***/
#navbarSearch{
    &.show{
        @include media-breakpoint-up(xs) { [class*="container"]{padding:0;}
                                           @include media-breakpoint-up(xs) { 
                                               padding:1rem;
                                           }
        }
    }
    .form-inline{
        flex-direction: column;
        justify-content:center;
        padding:1rem;

        background:rgba($white,.25);
        border-radius:$border-radius;
        input#search{
            @include media-breakpoint-down(md) { width:50vW;}
            @include media-breakpoint-up(md) { width:33vW;}
            border:0;
            display:inline;
            + button[type="submit"]{
                @include appearance(none);
                border:0;
                font-size:1.2em;
                line-height:1;
                span{@include text-indent;height:0;}
            }
        }
        .btn-close{opacity:0;}
        fieldset{
            order:1;
            background: white;
            text-align: center;
            padding: .5rem 1rem;
            margin-bottom: .5rem;
            border-radius:$border-radius;
        }
        .hint{
            order:2;
            color:$white;
        }
    }

}
.modal-dialog{
    &.modal-lg{
        @include media-breakpoint-up(xl) {
            max-width: $modal-lg;
        }
    }
}
.modal-body{
    padding:2em;
}
.modal-header{
    &.has-image{
        height:0;
        width:100%;
        padding-bottom: 45%;
        position:relative;
        display:block;
        overflow: hidden;
        > img{
            position: absolute; 
            height: auto; 
            width: 100%; 
            left: 0; 
            top: 0;
        }
        
    }
/*    .has-image &{
        padding:0;
        height: 230px;
        overflow: hidden;
    }*/
    
}
.image-grid{
    /*** make square images ***/
    figure{
        position:relative;
        .img-container{
            @media screen and (max-width:375px){
                width:100%;
                height:auto;
                img{
                    width:100%;
                    height:auto;
                }
            }
            @media screen and (min-width:376px){
                height:0;
                width:100%;
                padding-bottom: 100%;
                position:relative;
                display:block;
                > img{
                    position: absolute; 
                    left: 0; 
                    top: 0;
                    height: 100%; 
                    width: auto;
                    max-width:none;
                }
            }
        }
    }
    /*** make Grid ***/
    @media screen and (max-width:375px){
        display:block;
        figure{
            width:100%;
            height:auto !important;
        }
    }
    @media screen and (min-width:376px){
        @include display(flex);
        @include flex-wrap(wrap);
        @include flex-grow(1);
        figure{
            @include flex(1);
            margin:1px;
            overflow:hidden;
        }
        figure:last-child{
            @include flex-grow(0);
            @include flex-shrink(0);  
        }
    }
    @media screen and (min-width:376px){
        figure{
            @include flex-basis(calc(100%/2 - 2px));
            max-width:(calc(100%/2 - 2px));
        }
    }
    @include media-breakpoint-up(md) {
        figure{
            @include flex-basis(calc(100%/3 - 2px));
            max-width:(calc(100%/3 - 2px));
        }
    }
    @include media-breakpoint-up(lg) { 
        figure{
            @include flex-basis(calc(100%/4 - 2px));
            max-width:(calc(100%/4 - 2px));
        }
    }

    /*** style caption ***/
    figure{
        > figcaption{
            @media screen and (max-width:375px){
                padding:.5rem .5rem .25rem .5rem;
                margin-bottom:2rem;
            }
            @media screen and (min-width:376px){
                position: absolute;
                top: 0;
                background: rgba(0, 0, 0, 0.25);
                color: white;
                bottom: 0;
                left: 0;
                right: 0;
                text-align: center; 
                padding:1vW;
            }
        }
        > figcaption > a{
            display:block;
            text-align:center;
            font-weight:bold;
            + span{display:block;text-align:center;}
            @media screen and (min-width:376px){
                
            }
            @media screen and (min-width:376px){
                padding:30% 0; 
                + span{opacity:0;}
            }
            @include media-breakpoint-only(md){
                padding:45% 0;
                font-size:larger; 
            }
            @media screen and (min-width:1025px){
                padding:30% 0;
                font-size:larger;  
            }
            @media screen and (min-width:1200px){
                padding:45% 0;
            }
        }

        &:hover, &:focus {
            cursor:pointer;

            > figcaption{
                @media screen and (min-width:376px){
                    background: rgba(0, 0, 0, 0.8);
                    @include transition(background 200ms ease-out);
                }
            }
            > figcaption > a{
                @media screen and (min-width:376px){
                    padding:1em 0 .5em 0;
                    @include transition(padding 200ms ease-out);
                    
                    + span{
                        opacity:1;
                        @include transition(opacity 200ms ease-out);
                    }
                }
            }
        }
    }
}